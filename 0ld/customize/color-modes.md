# Цветовые режимы
Bootstrap теперь поддерживает цветовые режимы или темы, начиная с версии 5.3.0. Изучите наш светлый цветовой режим по умолчанию и новый темный режим или создайте свой собственный, используя наши стили в качестве шаблона.

## Dark mode
Bootstrap теперь поддерживает цветовые режимы. В версии 5.3.0 вы можете реализовать свой собственный переключатель цветового режима (см. ниже пример из документации Bootstrap) и применять различные цветовые режимы по своему усмотрению. Мы поддерживаем светлый режим (по умолчанию), а теперь и темный режим. Цветовые режимы можно переключать глобально для элемента `html` или для конкретных компонентов и элементов благодаря атрибуту `data-bs-theme`.

Кроме того, вы также можете переключиться на реализацию медиа-запроса благодаря нашему миксину цветового режима - подробности см. в разделе об использовании. Однако обратите внимание - это лишает вас возможности изменять темы для каждого компонента, как показано ниже.

## Пример
Например, чтобы изменить цветовой режим раскрывающегося меню, добавьте `data-bs-theme="light"` или `data-bs-theme="dark"` в родительский `.dropdown`. Теперь, независимо от глобального цветового режима, эти выпадающие списки будут отображаться с указанным значением темы.

    <div class="dropdown" data-bs-theme="light">

## Как это работает
Как показано выше, стили цветового режима управляются атрибутом `data-bs-theme`. Этот атрибут можно применить к элементу `html` или к любому другому элементу или компоненту Bootstrap. Если применить его к элементу `html`, он будет применяться ко всему. Если оно применяется к компоненту или элементу, оно будет ограничено этим конкретным компонентом или элементом.

Для каждого цветового режима, который вы хотите поддерживать, вам нужно будет добавить новые переопределения для общих глобальных переменных CSS. Мы делаем это уже в нашей таблице стилей `_root.scss` для темного режима, при этом светлый режим является значением по умолчанию. При написании стилей, специфичных для цветового режима, используйте миксин:

    // Color mode variables in _root.scss
    @include color-mode(dark) {
      // CSS variable overrides here...
    }

Мы используем пользовательский `_variables-dark.scss` для включения этих общих глобальных переопределений переменных CSS для темного режима. Этот файл не требуется для ваших собственных пользовательских цветовых режимов, но он необходим для нашего темного режима по двум причинам. Во-первых, лучше иметь одно место для сброса глобальных цветов. Во-вторых, некоторые переменные Sass пришлось переопределить для фоновых изображений, встроенных в наш CSS для аккордеонов, компонентов форм и многого другого.

## Вложенные цветовые режимы
Используйте `data-bs-theme` для вложенного элемента, чтобы изменить цветовой режим для группы элементов или компонентов. В приведенном ниже примере у нас есть внешний темный режим с вложенным светлым режимом. Вы заметите, что компоненты естественным образом адаптируют свой внешний вид, но вам может понадобиться добавить некоторые утилиты, чтобы использовать стили, характерные для каждого цветового режима.

Например, несмотря на использование `data-bs-theme="dark"` для случайного `div`, `div` не имеет цвета фона `background-color`, поскольку он установлен для `body`. Таким образом, если вы хотите, чтобы цвет `color` и цвет фона `background-color` адаптировались, вам нужно добавить `.text-body` и `.bg-body`.

## Использование

### Включение темного режима
Включите встроенный режим темного цвета во всем проекте, добавив атрибут `data-bs-theme="dark"` к элементу `html`. Это применит режим темного цвета ко всем компонентам и элементам, кроме тех, для которых применен определенный атрибут `data-bs-theme`. Основываясь на шаблоне быстрого старта:

    <!doctype html>
    <html lang="en" data-bs-theme="dark">

Bootstrap еще не поставляется со встроенным средством выбора цветового режима, но вы можете использовать его из нашей собственной документации, если хотите. Узнайте больше в разделе JavaScript.

### Создание с помощью Sass
Наша новая опция темного режима доступна для всех пользователей Bootstrap, но она управляется с помощью атрибутов данных, а не медиа-запросов, и не переключает автоматически цветовой режим вашего проекта. Вы можете полностью отключить наш темный режим через Sass, изменив `$enable-dark-mode` на `false`.

Мы используем собственный миксин Sass, `color-mode()`, чтобы помочь вам контролировать, как применяются цветовые режимы. По умолчанию мы используем подход с data-атрибутами, что позволяет вам создавать более удобные для пользователя интерфейсы, когда ваши посетители могут выбрать автоматический темный режим или управлять своими предпочтениями (как в наших собственных документах здесь). Это также простой и масштабируемый способ добавления различных тем и дополнительных пользовательских цветовых режимов помимо светлого и темного.

Если вы хотите использовать медиа-запросы и сделать автоматическими только цветовые режимы, вы можете изменить тип миксина по умолчанию с помощью переменной Sass. Рассмотрим следующий фрагмент и его скомпилированный вывод CSS.

    $color-mode-type: data;

    @include color-mode(dark) {
      .element {
        color: var(--bs-primary-text);
        background-color: var(--bs-primary-bg-subtle);
      }
    }

Выходы на:

    [data-bs-theme=dark] .element {
      color: var(--bs-primary-text);
      background-color: var(--bs-primary-bg-subtle);
    }

И при настройке на медиа-запрос:

    $color-mode-type: media-query;

    @include color-mode(dark) {
      .element {
        color: var(--bs-primary-text);
        background-color: var(--bs-primary-bg-subtle);
      }
    }

Выходы на:

    @media (prefers-color-scheme: dark) {
      .element {
        color: var(--bs-primary-text);
        background-color: var(--bs-primary-bg-subtle);
      }
    }

## Пользовательские цветовые режимы
Хотя основной вариант использования цветовых режимов - это светлый и темный режимы, также возможны пользовательские цветовые режимы. Создайте свой собственный селектор темы `data-bs-theme` с пользовательским значением в качестве имени вашего цветового режима, а затем при необходимости измените наши переменные Sass и CSS. Мы решили создать отдельную таблицу стилей `_variables-dark.scss` для размещения переменных Sass для темного режима Bootstrap, но вам это не требуется.

Например, вы можете создать "синюю тему" с помощью селектора `data-bs-theme="blue"`. В свой пользовательский файл Sass или CSS добавьте новый селектор и при необходимости переопределите любые глобальные или компонентные переменные CSS. Если вы используете Sass, вы также можете использовать функции Sass в своих переопределениях переменных CSS.

    [data-bs-theme="blue"] {
      --bs-body-color: var(--bs-white);
      --bs-body-color-rgb: #{to-rgb($white)};
      --bs-body-bg: var(--bs-blue);
      --bs-body-bg-rgb: #{to-rgb($blue)};
      --bs-tertiary-bg: #{$blue-600};

      .dropdown-menu {
        --bs-dropdown-bg: #{mix($blue-500, $blue-600)};
        --bs-dropdown-link-active-bg: #{$blue-700};
      }

      .btn-secondary {
        --bs-btn-bg: #{mix($gray-600, $blue-400, .5)};
        --bs-btn-border-color: #{rgba($white, .25)};
        --bs-btn-hover-bg: #{darken(mix($gray-600, $blue-400, .5), 5%)};
        --bs-btn-hover-border-color: #{rgba($white, .25)};
        --bs-btn-active-bg: #{darken(mix($gray-600, $blue-400, .5), 10%)};
        --bs-btn-active-border-color: #{rgba($white, .5)};
        --bs-btn-focus-border-color: #{rgba($white, .5)};
        --bs-btn-focus-box-shadow: 0 0 0 .25rem rgba(255, 255, 255, .2);
      }
    }

## JavaScript
Чтобы разрешить посетителям или пользователям переключать цветовые режимы, вам необходимо создать элемент переключения для управления атрибутом `data-bs-theme` в корневом элементе `html`. В нашей документации мы создали переключатель, который изначально зависит от текущего системного цветового режима пользователя, но предоставляет возможность переопределить его и выбрать определенный цветовой режим.

Вот посмотрите на JavaScript, который его поддерживает. Не стесняйтесь проверять нашу собственную панель навигации документации, чтобы увидеть, как она реализована с использованием HTML и CSS из наших собственных компонентов. Обратите внимание: если вы решите использовать медиа-запросы для своих цветовых режимов, возможно, потребуется изменить или удалить ваш JavaScript, если вы предпочитаете неявный контроль.

## CSS
### Переменные
Десятки переменных CSS корневого уровня повторяются как переопределения для темного режима. Они привязаны к селектору цветового режима, который по умолчанию имеет значение `data-bs-theme`, но может быть настроен для использования медиа-запроса `prefers-color-scheme`. Используйте эти переменные в качестве ориентира для создания собственных новых цветовых режимов.

### Переменные Sass
Переменные CSS для нашего режима темного цвета частично генерируются из переменных Sass для темного режима в `_variables-dark.scss`. Это также включает в себя некоторые пользовательские переопределения для изменения цветов встроенных SVG, используемых во всех наших компонентах.

### Sass mixin
Стили для темного режима и любые пользовательские цветовые режимы, которые вы создаете, могут быть соответствующим образом привязаны к селектору атрибутов `data-bs-theme` или медиа-запросу с помощью настраиваемого миксина `color-mode()`. См. раздел об использовании Sass для более подробной информации.
